# Unbound configuration file on windows.
# See example.conf for more settings and syntax


server:
 # verbosity level 0-4 of logging, 1 is default.
	verbosity: 1

 	# Port to answer queries from
	port: 54
	do-daemonize: yes
 
	# Do not query the following addresses. No DNS queries are sent there.
	# List one address per entry. List classless netblocks with /size,
	# do-not-query-address: 127.0.0.1/8
	# do-not-query-address: ::1
	# do-not-query-localhost: yes
 
 # If you want to log to a file use
 logfile: "C:\unbound.log"

 # on Windows, this setting makes reports go into the Application log
 # found in ControlPanels - System tasks - Logs 
 #use-syslog: yes
 log-time-ascii: yes
 num-threads: 1 # 1 disables threading.
 cache-min-ttl: 60
 infra-host-ttl: 60
 #root-hints: "C:\Program Files\Unbound\named.root"


 # power of 2 close to num-threads
    msg-cache-slabs: 2
    rrset-cache-slabs: 2
    infra-cache-slabs: 2
    key-cache-slabs: 2
 
 # enable extended statistics.
    statistics-interval: 0
    extended-statistics: yes
 
 unwanted-reply-threshold: 10000000
 do-not-query-localhost: no # You need this as no for dnscrypt-proxy to work
 prefetch: yes
 prefetch-key: yes
 rrset-roundrobin: yes
 minimal-responses: no
 do-ip4: yes
 do-ip6: no
 	# prefer-ip6: no
 do-udp: yes
 do-tcp: yes
 do-not-query-localhost: no
 hide-identity: yes
 hide-version: yes
 #harden-referral-path: yes
 use-caps-for-id: yes
 module-config: "validator iterator"
 username: "Unbound"
 
 #Enforce privacy of these addresses. Strips them away from answers.
  access-control: 0.0.0.0/0 refuse
  access-control: 127.0.0.0/8 allow
  access-control: 192.168.0.0/24 allow
  access-control: ::0/0 refuse
  #access-control: ::1 allow
  #access-control: ::ffff:127.0.0.1 allow
  private-address: 10.0.0.0/8
  private-address: 192.168.0.0/24
  private-address: 10.0.0.0/8
  private-address: 172.16.0.0/12
  private-address: 192.168.0.0/16
  private-address: 169.254.0.0/16
  private-address: fd00::/8
  private-address: fe80::/10


#include: "C:\Program Files\Unbound\unbound_ad_servers" 


# Remote control config section. 
remote-control:
 # Enable remote control with unbound-control(8) here.
 # set up the keys and certificates with unbound-control-setup.
 #control-enable: yes


 # what interfaces are listened to for remote control.
 # give 0.0.0.0 and ::0 to listen to all interfaces.
 control-interface: 127.0.0.1
 # control-interface: ::1

 
 # Optional Hardening knobs:
    #harden-glue: yes
    #harden-dnssec-stripped: yes
    #harden-short-bufsize: yes
    #harden-large-queries: yes


 # port number for remote control operations.
 #control-port: 8953


 # unbound server key file.
 #server-key-file: "C:\Program Files\Unbound\unbound_server.key"


 # unbound server certificate file.
 #server-cert-file: "C:\Program Files\Unbound\unbound_server.pem"


 # unbound-control key file.
 #control-key-file: "C:\Program Files\Unbound\unbound_control.key"


 # unbound-control certificate file.
 #control-cert-file: "C:\Program Files\Unbound\unbound_control.pem"
 
forward-zone:
  name: "."
  forward-addr: 127.0.0.1@53
  #forward-addr: 185.137.15.105@53
  #forward-addr: 185.14.29.140
  #forward-addr: 127.0.0.1@53
  #forward-addr: 208.67.222.222@443
  #forward-addr: 62.113.203.99@5353
  #forward-addr: 208.67.220.220@443
  #forward-addr: 178.216.201.222@2053  # dnscrypt-proxy
 	forward-first: no
 	forward-ssl-upstream: no

# dnscrypt:
   #dnscrypt-enable: yes
   #dnscrypt-port: 443
#     dnscrypt-provider: 2.dnscrypt-cert.example.com.
#     dnscrypt-secret-key: /path/unbound-conf/keys1/1.key
#     dnscrypt-secret-key: /path/unbound-conf/keys2/1.key
#     dnscrypt-provider-cert: /path/unbound-conf/keys1/1.cert
#     dnscrypt-provider-cert: /path/unbound-conf/keys2/1.cert

	server: auto-trust-anchor-file: "C:\Program Files\Unbound\root.key"
	# trust-anchor-signaling: no
	#server: dlv-anchor-file: "C:\Program Files\Unbound\dlv.isc.org.key"
	
	# Ignore chain of trust. Domain is treated as insecure.
	 domain-insecure: "trello.com"	